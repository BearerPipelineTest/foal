(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{225:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(7),o=(n(0),n(283)),i={title:"Base de Donn\xe9es (configuration)"},l={unversionedId:"tutorials/real-world-example-with-react/2-database-set-up",id:"tutorials/real-world-example-with-react/2-database-set-up",isDocsHomePage:!1,title:"Base de Donn\xe9es (configuration)",description:"La premi\xe8re \xe9tape de ce tutoriel consiste \xe0 \xe9tablir une connexion \xe0 la base de donn\xe9es. Si vous ne l'avez pas encore fait, installez MySQL ou PostgreSQL.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/tutorials/real-world-example-with-react/2-database-set-up.md",slug:"/tutorials/real-world-example-with-react/2-database-set-up",permalink:"/fr/docs/tutorials/real-world-example-with-react/2-database-set-up",editUrl:"https://github.com/FoalTS/foal/edit/master/docs/i18n/fr/docusaurus-plugin-content-docs/current/tutorials/real-world-example-with-react/2-database-set-up.md",version:"current",sidebar:"someSidebar",previous:{title:"Introduction",permalink:"/fr/docs/tutorials/real-world-example-with-react/1-introduction"},next:{title:"Les Mod\xe8les User et Story",permalink:"/fr/docs/tutorials/real-world-example-with-react/3-the-models"}},s=[],c={toc:s};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"La premi\xe8re \xe9tape de ce tutoriel consiste \xe0 \xe9tablir une connexion \xe0 la base de donn\xe9es. Si vous ne l'avez pas encore fait, installez ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://dev.mysql.com/downloads/"}),"MySQL")," ou ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.postgresql.org/download/"}),"PostgreSQL"),"."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("em",{parentName:"p"},"Par d\xe9faut, Foal utilise SQLite dans chaque nouvelle application, car il ne n\xe9cessite aucune installation. Si vous souhaitez continuer \xe0 l'utiliser dans le cadre de ce tutoriel, vous pouvez sauter cette section et passer \xe0 la page suivante"),". ")),Object(o.b)("p",null,"Tout d'abord, installez le pilote MySQL (ou Postgres)."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"npm install mysql # or pg\n")),Object(o.b)("p",null,"Ouvrez le fichier ",Object(o.b)("inlineCode",{parentName:"p"},"config/default.json")," et mettez \xe0 jour la section ",Object(o.b)("inlineCode",{parentName:"p"},"database")," comme suit. Si votre base de donn\xe9es est PostgreSQL, changez la valeur ",Object(o.b)("inlineCode",{parentName:"p"},"type")," en ",Object(o.b)("inlineCode",{parentName:"p"},"postgres"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "port": "env(PORT)",\n  "settings": {\n    ...\n  },\n  "database": {\n    "type": "mysql",\n    "host": "env(DB_HOST)",\n    "port": "env(DB_PORT)",\n    "username": "env(DB_USERNAME)",\n    "password": "env(DB_PASSWORD)",\n    "database": "env(DB_NAME)"\n  }\n}\n\n')),Object(o.b)("p",null,"Ce fichier est le fichier de configuration principal de l'application et sert de base \xe0 l'environnement dans lequel l'application s'ex\xe9cute, quel qu'il soit."),Object(o.b)("p",null,"La syntaxe ",Object(o.b)("inlineCode",{parentName:"p"},"env(*)")," indique au syst\xe8me de configuration de lire la valeur de la variable d'environnement donn\xe9e. Si elle n'existe pas, Foal essaiera de la lire \xe0 partir d'un fichier ",Object(o.b)("inlineCode",{parentName:"p"},".env"),"."),Object(o.b)("p",null,"Cr\xe9ez un nouveau fichier ",Object(o.b)("inlineCode",{parentName:"p"},".env")," \xe0 la racine de ",Object(o.b)("inlineCode",{parentName:"p"},"backend-app")," et fournissez les informations d'identification de la base de donn\xe9es."),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},".env")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'# Use the identification information of your database.\n# The values below are given as an example.\nDB_HOST="localhost"\n# Default port for PostgreSQL is 5432.\nDB_PORT="3306"\nDB_USERNAME="test"\nDB_PASSWORD="test"\nDB_NAME="test"\n')),Object(o.b)("p",null,"Red\xe9marrez le serveur de d\xe9veloppement. L'application est maintenant connect\xe9e \xe0 votre base de donn\xe9es."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Vous auriez pu sp\xe9cifier toutes les options de connexion \xe0 la base de donn\xe9es directement dans le fichier ",Object(o.b)("inlineCode",{parentName:"p"},"default.json")," mais cela est consid\xe9r\xe9 comme une mauvaise pratique."),Object(o.b)("p",{parentName:"blockquote"},"Les fichiers de configuration sont g\xe9n\xe9ralement ",Object(o.b)("em",{parentName:"p"},"committ\xe9s")," avec le contr\xf4le de version et il est recommand\xe9 de ne pas ",Object(o.b)("em",{parentName:"p"},"committer")," des fichiers contenant des informations sensibles.")))}p.isMDXComponent=!0},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),p=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),b=a,m=u["".concat(i,".").concat(b)]||u[b]||d[b]||o;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=b;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);